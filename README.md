# JobParser, Coursework_4

### Приложение предназначено для поиска вакансий на HeadHunter и SuperJob

ВНИМАНИЕ!!! Для корректной работы в PyCharm, необходимо включить эмуляцию терминала!!!
Для этого необходимо открыть файл main.py, вызвать контекстное меню нажатием правой кнопки мыши
и перейти в пункт "Modify Run Configuration...". Нажать на "Modify Options" и установить галочку на 
"Emulate terminal in out console"

Для работы с SuperJob, необходимо создать в корне проекта файл .env и поместить в него секретный ключ
в формате SJ_KEY=1234asd678...

### Имеет следующие возможности:
- Поиск вакансий в сети (с возможностью выбора конкретного сервиса)
- Сохранение в локальную базу данных (JSON файл) и поиск в ней
- Возможность отмечать вакансии как "Избранное"
- Возможность удаления вакансий из локальной базы данных
- Сортировка результатов поиска по следующим параметрам:
  - По сервису
  - По названию
  - По дате публикации
  - По региону
  - По валюте
  - По зарплате
  - По избранному
- Автоматическое сохранение параметров приложения и пользовательских параметров
- Возможность сохранения исходных данных запроса о вакансии с сервисов

Запуск программы осуществляется запуском main.py в корне проекта

При первом запуске, будет предложено ввести имя пользователя, создастся запись
в файле config/user.yaml, который будет использован для хранения параметров поска и сортировки

### Интерфейс приложения имеет следущую структуру:
#### Главное меню:
```
Добро пожаловать в JobParser, AnyKey!
-------------------------------------
<Что нужно сделать?>

1. Настроить параметры поиска
2. Найти вакансии в сети, на выбранных площадках
3. Найти вакансии в локальной базе данных
4. Настроить приложение
5. Выход из программы

>>
```

#### Меню выбора сервиса поиска работы:
- Выбор сервиса осуществляется вводом соответствующего пункта.
Символ ">" указывает на выбранный параметр
```
<Выбор сервиса поиска работы>

> 1. SuperJob + HeadHunter
  2. HeadHunter
  3. SuperJob
  4. Назад, в главное меню

>> 
```

#### Поиск работы:
- Как при поиске на сервисе, так и при поиске в базе данных, необходимо ввести
поисковой запрос или "exit" для выхода из приложения
```
<Поиск работы на сервисах>

Для выхода в главное меню, введите "exit"
Введите название вакансии:

>> 
```
```
<Поиск работы локальной базе данных>

Всего вакансий в базе 100500
Для выхода в главное меню, введите "exit"
Введите название вакансии:

>> 

```
#### Меню настройки приложения:
 - Для выбора нужного параметра необходимо ввести его номер.
 - Сохранять исходные данные. Сделать активным для сохранения списка вакансий в формате сервиса в папке fixtures
 - Отображать лог добавления вакансии в список. Информация о полученных вакансий с сервиса и информация 
о количестве вакансий в оперативной памяти.
 - Отображать лог сохранения в файл. Включение/отключение вывода информации о количестве вакансий 
которое было записано в локальную базу данных и общем количестве вакансий в базе.
 - Лимит запроса страниц. Ограничение количества страниц, запрашиваемых с сервиса.
 - Очистить локальную базу данных. Очищает файл vacancies.py который является локальной базой данных
 - Удалить пользователя. Стирает содержимое файла user.yaml, что приводит 
к сбросу настроек поиска по умолчанию.
```
    <Настройка приложения>

   | 1. Сохранять исходные данные HeadHunter
   | 2. Сохранять исходные данные SuperJob
 > | 3. Отображать лог добавления вакансий в список
 > | 4. Отображать лог сохранения в файл
40 | 5. Лимит запроса страниц HeadHunter (не более 40)
 6 | 6. Лимит запроса страниц SuperJob (не более 6)
!!!| 7. Очистить локальную базу данных
!!!| 8. Удалить пользователя
     9. Назад, в главное меню

>> 
```
#### Меню списка вакансий полученных с сервисов:
- Просмотр вакансий. Вывод в табличной форме списка вакансий из оперативной памяти
- Сортировка. Сортировка вакансий по одному из аттрибутов вакансии. 
Так же есть возможность изменить порядок вывода
- Сохранить вакансии в локальную базу данных. Для сохранения полученных вакансий в файл
```
<Выберете подходящий вариант>

1. Просмотр вакансий
2. Новый поиск
3. Сортировка
4. Сохранить вакансии в локальную базу данных
5. Главное меню

>>
```
#### Меню списка вакансий локальной базы данных. 
 - Отличается отсутствием сохранения в файл
```
<Выберете подходящий вариант>

1. Просмотр вакансий
2. Новый поиск
3. Сортировка
4. Главное меню

>>
```
#### Табличный просмотр списка вакансий:
- В таблице содержится минимальный набор информации о вакансии. Для просмотра подробной информации, 
необходимо ввести соответствующий номер вакансии в таблице. Листать страницы и выйти из списка, 
можно при помощи навигационных символов согласно подсказки 
```
|№|               НАЗВАНИЕ                   |       РЕГИОН       |    ЗАРПЛАТА    |   ОТМЕТКИ  |
|===============================================================================================|
|0| Программист Python                       | Минск              | не указана     |            |
|1| Python Backend Разработчик               | Алматы             | 600000     KZT |            |
|2| Back End Специалист                      | Ташкент            | 5000000    UZS |            |
|3| Junior Backend developer (Python)...     | Москва             | не указана     |            |
|4| Стажер BI аналитик                       | Астана             | не указана     |            |
|5| Начинающий WEB-разработчик               | Ростов-на-Дону     | 40000      RUR |            |
|6| Junior Machine Learning Engineer...      | Москва             | 150000     RUR |            |
|7| Python (Junior) разработчик              | Минск              | не указана     |            |
|8| Программист-стажер                       | Санкт-Петербург    | 150000     RUR |            |
|9| Senior Python Developer (Гибрид МСК...   | Москва             | не указана     |            |

Страница 1 из 250
Для открытия вакансии введите ее номер. (q): в меню, (z): назад, (ENTER): вперед
>> 
```

#### Просмотр вакансии:
- Представление всей полезной информации заложенной функционалом приложения
Для получения подробностей, необходимо перейти по ссылке.
- Предусмотрена возможность пометить вакансию для удаления (при следующем чтении базы, файл будет удален)
- Можно отметить вакансию как "избранное"
```
Размещено на "HeadHunter" 11.08.2023
Название: Программист Python
Регион: Минск
Зарплата: Не указана
Ссылка: https://hh.ru/vacancy/84946068


==========================
Нажмите ENTER для возврата
(d): отметь/снять метку - к удалению
(f): отметь/снять метку - избранное
>> 
```

#### Запрос на сохранение в локальную базу данных:
- Если вакансии были получены из сервиса или были поставлены какие ни-будь метки,
Приложение спросит, нужно ли сохранить эти изменения в локальной базе.
- Вакансии помеченные как "Избранное", сохранят этот флаг в файле. А "К удалению",
будут удалены.
- Сохранение произойдет только при вводе символа "y", ввод любого другого символа, не приведет к сохранению
```
Сохранить в базу данных? (y/n)
>>
```
